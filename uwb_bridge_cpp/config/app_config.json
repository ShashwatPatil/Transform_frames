{
  "_comment": "UWB Bridge Configuration File",
  "_description": "This service subscribes to raw UWB coordinates via MQTT, transforms them using a custom library, and publishes the results",
  
  "mqtt": {
    "source_broker": {
      "broker_address": "mqtt.cloud.pozyxlabs.com",
      "port": 443,
      "client_id": "uwb_bridge_subscriber",
      "username": "68655099c9acbd4db21ca60e",
      "password": "4e94bf37-7deb-4357-b2be-1c7d0778f2e5",
      "source_topic": "68655099c9acbd4db21ca60e",
      "qos": 1,
      "keepalive_interval": 60,
      "clean_session": true,
      "use_ssl": true,
      "use_websockets": true,
      "ws_path": "/mqtt",
      
      "_comment": "Source broker: Pozyx Cloud MQTT over WebSockets (wss://mqtt.cloud.pozyxlabs.com:443/mqtt)"
    },
    
    "dest_broker": {
      "broker_address": "ssl://a80d6f741fff4a5b8bdb42597e205d7c.s1.eu.hivemq.cloud:8883",
      "client_id": "uwb_bridge_publisher_local",
      "username": "drobot_admin",
      "password": "Gemba40c",
      "dest_topic_prefix": "uwb/processed/tags/",
      "qos": 1,
      "keepalive_interval": 30,
      "clean_session": true,
      "use_ssl": true,
      
      "_comment": "Destination broker: Local test broker (change to HiveMQ for cloud publishing)",
      "_note": "For HiveMQ: use ssl://63f9c72485ab42b28b77c5640699e17b.s1.eu.hivemq.cloud:8883 with credentials"
    },
    
    "_comment_dual": "Dual broker mode: Subscribe from local, publish to HiveMQ for internet access"
  },
  
  "transform": {
    "origin_x": 23469.3880740585,
    "origin_y": 30305.220662758173,
    "scale": 0.04141414141414141,
    "rotation_rad": -0.4363323129985825,
    "x_flipped": true,
    "y_flipped": true,
    "frame_id": "floorplan_pixel_frame",
    "output_units": "meters",
    
    "_comment": "Coordinate transformation parameters",
    "_units": {
      "origin_x": "mm - X location of image top-left corner in UWB frame",
      "origin_y": "mm - Y location of image top-left corner in UWB frame",
      "scale": "pixels/mm - Scale factor",
      "rotation_rad": "radians - Rotation angle (counter-clockwise)",
      "x_flipped": "boolean - True if UWB X axis opposes Image X axis",
      "y_flipped": "boolean - True if UWB Y axis opposes Image Y axis",
      "frame_id": "string - Reference frame identifier for output coordinates",
      "output_units": "string - Output units: meters, millimeters, or pixels"
    }
  },
  
  "log_level": "info",
  "log_file": "/var/log/uwb_bridge/uwb_bridge.log",
  "log_rotation_size_mb": 10,
  "log_rotation_count": 3,
  
  "_comment_logging": "Log levels: trace, debug, info, warn, error, critical, off",
  "_comment_log_file": "Set to empty string \"\" for console-only logging"
}
